language: java
jdk:
  - oraclejdk8
script: gradle test
notifications:
  slack:
    secure: "hLCHcL3BnT4hXI1LQfPN8gOj9dEa9GFNIb8Fq7WT+dGPq3LoQpRUpbXzIGZ8f/uspsqTF+7ejVtENLVSY9+b89f1vpDRqiKhOrVMQKB1OK8rXZnJNENdgH6Rmddc/GzP/hB+Cpy9Otfq/GPkFCluOdJcHLGwlwkdtIe3kHs60jZIenLRbz81i+QprZWFEqlHeCGq0LKyu5hZZEqdl6JCs6+qNfhyFsEgubP04U/KZS7BQkA6xaU/KElWlWdNynwwppCpkSJIEGN+5uyLBgLaZCyeezdrzl/MLV5e5U1QqK6CKD2FeJiJCzju5jT5+T+OJF5AVRbo0t26VNBEebKTnymawKpVHfLlaJgXroNjm3OtOhxycvKTPfUCgjz7ca+xVm3RO8pBV4jUIhDLAEGS2SEfD+zVp9dyclNWLepmgCBtFNqnaLf8K7fbEV0bzelQZ3+ElIWQQ7RGF/lifZZe1Ube4gIY4SAIltc/gO8HwRUIKQS8TiuYCMIUNsQUawdJeQDOj3PtQvDWPiiopfZmVd2s7oqQM2pIbK4VsFRrQJ1k/1wXIVQLHxX5AjyFY49CKxBB2ho+Qzi82mciRQIKwSJMUKNdeutxYBo+AvcT9VICRcfFj6j2PWySH1csoF0r7KNfpJKzKGYNWvYhaa4Ot5CONJBj2ikoSKHDuiET2MU="
  email: false
deploy:
  provider: heroku
  api_key:
    secure: "aCcM1tLiewQsosBb0BuEzmfDynXfSnRW+ipyay/pTcUQYkcRoaxToqQgdQNzmcq1ZCY/ZQzKMLmCG8ZpD9BCjOaOjwYzOVa2EXuwGVQFKiYbhsN6A05SatRG24dXMD1jdpd65A/cB2UDru0MjAmmWC2QH/xK5lw92NBv+6MOW/X6Sw+I6E0ajbsKuU/O+oJ7PxsWph92A2WlikISsuXvEwFdjqO4E/fpqRC6ij3Jj4bNLCWWQ3daJo4hBp53PDr7yjFbbOoGgZTcZ1IQN8zWRfLKvvz7GqRtWmCZeeTd/fzblKgf9P3VgHPfgb3tQVn5K1A9f9vjxwWHp8VGOrWrmS9CNpEaAe2mJ5NRjF70AVKCrAHJ7aFeCKI3lVq/tqxlwmy6OfP3X4S8gDFvSjCPU/Bmbik0OiNyvurbjSg3dSaJ7bfknnEh806nC+/uDKGZCSdQXipr1nr7EkapAaUE40DHO6n+a7WQM4EY8do+XXwnj0Fmk4LSlp1AQeYwokCOjep0/HnX16RbFO9E9mWIQ9q9zzFj6oVG3YUQjYpU5TA9T9WVP0jSmKox27D/Aw8lZ5frelXYBWooTY+fOGys2WGOMIU8u0Mv2FnVJvzBlqV+6F2SOuI1olqZRKV7XUpFDLA559DO2KaxDYXycedrImqvWhbgPE51VBiSGb6YrAg="
  app: breakout-development
  on:
    repo: BreakOutEvent/breakout-backend
    branch: develop
env:
  global:
    - secure: "fsmU7ho8F5o5ryEarbfdrq/O+KHpYfcam9mF/6J2qxagED6cAzShhklzd/xQB1Jb9miTEElQsXng4jpyn0Q3M99ycd3+QDdw2R2UM0s/V5dev1ZYdeCBKOaqCJlyqH5N2aCfSWJch4paDfwMn2Lvg3O4kIbuca/abYVgH8cTKNx+0VanLvh5JuxHsu0BWWxvRDE9YU3RoCTWGBxDf1LRyxBHMqTufmGROj3IqKGhDlSlSP3dw0RkRLjZtuTkVvAdUhzSO1ooRLkSYVMcmQ31+F/1AZMMW73tfGWuwRAYs4KeNpz7WEuV8h08jv2gTk5K7MBpd9Qzi3Rfze5Oe7BsznYl7CS9tNag8Xbp0y3hIAd1aJuaoOyq0nWR960FTBoWft1D2K8v6xiHFgzI27hG3r1wZ3a0dQJWjc/VFkvKaCrTMy6fBcinmq3olMJVclR58yUUkPxbXmdTpLQQMHyZuZV0ImqMn+65kywcePhlix1lCHZE3iTLAt7sIGBYL6J2lSfhifo5GqWiL6OaMqIbsiiD86K3WzdZXEJS1ExFH4MwFOSOPRwgedB4iSKbw77we9QfAWN17SkVpy+gA/YIRSWJW7EX3T3q3XmlqZDIM35w+IhMl4G5vUhRP+Ef6OCr0NibYc4wVZUr8C3HU4PGy6BMbtES6SukYiQ3Xb5PK1k="
    - secure: "kBqEPTOXetHL/FMuImBndQwXeNAWh2x6FYWMNPFgTKWEWyCfjIPDTWJTv+42HEbrXBn4ef0wXK1Dj6IL0j/BazfAk3PJa6+HK/F1sUvbDuVekhoq1lGf59scQ7X9XkVl0hV6zp0/AUS40DS1NR5Ra7zCzLO+KZ/vmUpnp//96r6NQaeHsVqCrzUE7TND0kr8CLa5H0o98wP/Um4N6bIS6eTGf3gzDa9lYBgAG2iT1Yb0071KRVRwMHkZpaFKIQjEi4Ut05YquDzvTPS3EFYdJQIeVPrW40YeK+Xrb2VxK+F7fx7QkMI2QZgzBc8d3bv8nHbuMWxeG4DKNTQsV8OgbsDw7GQBIPnfxiSgU0N3MuTdGi+112tndyd2p1PQf+PoUqji2KWNuBNlnLMvbpyiZjnWeQZ8SddF/ra01Psex+zZSR/ftXupfgyj8jd/LQd5X3aJ+tMmvVxjzMv8tCEB48PH95QmwgOmmvG7CNfoN8x8mO9NRQl48ZA0nWoGxg9o+NvvsaZ/CeTE0Rc0Ez/52AWIdzxtTKOWv/kqVt9fTk8z4gybN8QDUtdVl3tWFyxLXXnja4Ak20j4vSGhBugNc7VYHR1dhJLvUEmh5KLKfXNHLSzg1vc007g4Mtw5odTbxFNwSoD3MbG8CeFvqXDRoSNCekbBSAe0r1wBcen3ZOk="
    - secure: "g4ClLk6/69FUZKoUjUMkxEbhWIj7eZKe49JiezcjExzjAr4NdW9iXYMbHvLCJrJyrqsznaur0llyREioGkS13O4C+l0ml7xVlUfyFsWIApJdaR5SXOPX1BxsPTbsIuvQ0Ab2rHLn+VvmaONBWhJlIlVbcP5mshmkjDsB7lveBf7DEIP1bB0n12BxOyNDeLmtIEchJ/x4GYRMggak+/4FfHo7vGnSfc7ELrEwS6dAbkjpOpNt6BOYqPyDjgukEl2HIiaZ/Vr1AuMbq8KL3zULdFuMpNQ9MzLzaV5VUoVs3yoMIrZ2FU5BX1chRhshUlnh3k5ctOa3u9oMUBfn2pYU5wsYf0UZ5R+SlEyvLZGIcycPcOuRerif6gM7TY51e0UJzjlUCVbkgmX2w0Eg6+43W8WhrNvboSiPB0a5VfaFU10JXeuU/XaZ2L6QeJj4jWx5SbmCt8U9wPbgHMvctghjsEdo171UyNJq6LzUNicqeV0wnW5tE+4yIEjQ5/qm17+1tX3C3E2BQ0euDm4DqDXLRHeT4mbJQq6aWSYF683sVMR6Wzc1UK6iim0wvNYTqILmz9CqJhZ1bHfxwarEqG1Lf2hY2sRXLHIwVezbyCSYHCCfs3RmKwH3QhKRhTsynIPiKytjig7QlU4Joi9BikiThcOpweViVrVIv2UjHPxlaPg="
    - secure: "nRzFj+7LOB4ao/ZV28OFAfyE4Yoyum1Dk8O3sWs4nDiHGrEbXc8uLN6AHcw35/RoTsvGyH9c5q49ZV93o8O5re4DeiqzuFa6Ju063VxYvgYUJQyEJuNBwjXEQVsOf0Yt923HIKJ7hplLI7ZkwAeqJJehDl3/QI6F6sCEkevC6NJXKbpjSaQAAew7taB9hp7h+pStNzfDjfvozkYxiU0luyxPL0I4L523KDaCXaS9aOJWOlnh8CO5/4fVCm67bxwry8XCV3hYeY8sYQyV9C6r9IBJYgeKafwcx7V8Af97/JQ58ny2xk7Oht57w8JAfDVfCsECF1ug9+UYn5jvuv+Gcp/KZ2W6Ab7hQ3zqiRfeWazT8bzYWSECNzsXuBKp53+OfD7URyusasD/NDncaQ1Vz3GrpVhRfy0YFhD6PiKlWHP+FR/vd6d3ZgwzJPA63Gl8oXHpo3eNeoo8yN405CL3dymCJ9xXRz9EiyZiEYmmXA2vYQVGjjsjM9DqNnWWHbkIZiw933k+l6ALaLNt0RJ/URc1GSUKOszOy3Akma1pZdI6g2vHKeY05QJSYc5lm67LHHd8XYtOIB12JOn/oouNWL0G4Axw/hbfctl2mI57OfZkBAGnYWWNf6WWMbK+IQidoC95FQVBxFb+yF2jIcj4bcQ0gIcfQF/sljxwfQJluvk=" #DOCKER_EMAIL
    - secure: "jehDTvdwHakWblWrzhjBaKY35AI2cUria5DGfOsaU/kT7/moPvfHsM/TtyQEITymQ1DLwM36mxw8M57je6wnT8JBRGeRW515OQsTM042NVoIhjWFD1Z/NdflmiFB/UCEskGlFP9uHr2KXR3RVoYtCVmAAxxAoQvIZmdABN9eJoYzlHMprT/EPfwANO9kF1xo62YyiU3HQsI2IgSsfafxPKbKHnb6rnKOwnBKXkmLLaxSscLMd8e8V7owKZG+UqzfP2ZOjIvtZrKkH+4NG5KPIYAmJcTmvtzEwqD0GJBYxHnj3+0DmKE0LC4Y2wnVO48CEG0eA9+ew1kF5tlJLdtUkBX+72rHViZT1Go2ZifbiSfc8jT36RMz8fG4F8wkhul391NQmQIc0NBA9sID0J1FzHuOjX5pQ4RNp6qyUAm7kfZcn61OZoRHOIIA3GjbqU6si14jTvMrxvCvDXlncBeRIPnvTgPUXKpGR5ySvBMCAUuwZVuN5tK5alyiDJq0JdBbA/O/ky+aRBo/uvXS9LI53d9e7xCstFr5p16X2jZrdzwYLh90luaQWqHCa+KAygRV/XBGjiPsMGUMkovvxLYpRDLMy0GODGYk8B8n9/rS1fRODomwviC1q3qmcRnT8FB6fOdwvR3Va0cbHCBZk3HItwkBicl3SF4iL55cQJcApxY=" #DOCKER_USER
    - secure: "A/wnr8B8fk35hRgOy1zq/nc8iHS7wz7ufEpXwMZCNZtbuwKuIPsDLTk+K2iPBifJs2I68yxoP2tZfCli6XZYXSOl22fgeV1M/peFQk7A/uDk5hh3lLBTjanB17HoGUX2+i1VMl+HMeDi71pd+xhGR3/JCHceMn7Klx/5CfxWaJO5qiB+VkiqyHieFCfvVJ6pR5HSGOIslm4I1bumUTr9pPsjQCF0aKcH8UlAK2Fn60Q2BMNQx65lA6xIy/j2qGbHPq4RW4y5fk8z1MORI2hAQDVwFT4cWX7SDkVICOxUYfx/xmcXNh2KGCv2d+TPy3hQyYBlfHRIZqRB+vJ4cOFasEd1Sye7i9BptHPtzitM2OuGohGgSiSg2ZfmtJuzwTPLSIB3jkdK4bL5qloWGKUNfsvmaHCGOn9rin9hJBNNC3Wj4HNJV5z+JaLCXDrDQx6Fpj455h0ArDlh4jLRjzWi61xf1kjUmXD9GqfX2PUQVZHcB+KgGhEwfsVgWW5Rxbvx3d7Rz0ZPkfZDbQq6vNP8dcuR2Sp7t0Em/ZMB9C9tt1gF2IXiE4G9OdG8/oogAHvizmjfn2ocwctjyNriD1Uaf/n1bjRMpfHg6PqOK1U251PartEykEAeKAjtgRqLt+vVH+uJsGHwgHiLxFsJwedqQXVNQhEb8gm5udwkPevhWlM=" #DOCKER_PASS
    - secure: "jKs+2BXez83l5vd66zr+wQFsxlah1+KRoXe++wfRynYSBITjAiWgotSjB9g1nmvtz1IJ52Q9tBLaIr/0FITWlqX5BsIJ/F0s9+SoMOQIQAPeylEAZI6dql76WC3JkpszCNBSJEnxKLihrczQXNEAIfpLCHCxHze6P+NgoagJCdd46b8IcFvHRNlngX5kGZkh/ANTQne037sFrvyewWiBbydmYcWdC1/0UTFOwqAYdxAoQuFNJ7usvHmAFLvtNxIjswKXPWUPEijSllEeKX0rA2A28cG0QnHEfv9xYQ/0LHJAxwQ6v7FrwiT2tKKZwzcl+d8vx7yU8dB8cSYoZDdkNIlF/fWTC5QOp3lpUq+/0YrA1AauRMwMbrhY/pmXmdtSt2etLEsyi8caO/fJYfY3rBXsFkR3YUKDnIO9zLBHIoEnlj5Kluk5p+76+X0Ti/Z3lbAUkqJs/hUVJ6XCn5NudUulq2HrweRvnXeXdVUYQuFRmi49RvSubbe717b+cmALzVO5rhp5LFhEeP+rIrKIk7ZbLLFFTzph+yorEdLGmC2r4Wb8MpCIJKOyddXg1VHutqICMS9H+WPoN6aMl6M1r5iwTsEzdoJpxyB4OiuoqUHSKlv1PnpoVPmDAlSJTcvlvxtpTvwFkEstqrb+RaXAhjPcbw2jh4s6NEuZKX834J8=" #DOCKER_REPO
    - secure: "MqJ/Qrg8GhxOrv2LaqNsqBQ5ULR2dSmnDsO6rbyW+rmPtGi7Zw9JnraBy1pSZEyUf5833fM4OinJbmU7795niS3V65QD1mUjgioSsRQyhUfSsDKZjhGCk21sCJ7sNX6+K2i5JKMat2pcAhZrPlUgIq3p6GnICepz6taM/oilCwMpRyEuKdW3vUZVxhxgcJx0y8ljVoH/vvA/k6A8DTEFn3DGQB2nsPkh1WRVKArXJCIv5J7xjwRUVzp3Xxvp8k8swuRsFGMd88bUlMRgz3/qzYhG/lBUBzdqvvy29fIzaG+CDMYGdGPDgcMK5jSHt66e13QpitzCwHsYlKGWE9+o2noq7E/MoljU5MbHQZHbm4EVchkQY8v2Dvqz3AR1vk5oB+91pTEmM47LjDUq5xMtjq5cq/C10IP2x0ui/J3uDKDV02MzmZ6oVuB655bEoIMwaHhj9X4xL3dg6nXbqDOyeNoTe/jt18VJjZv5kUDrCByxjONJRYw5TqwwN0eUlmCRF9CWw7Fb/HU+Ukr1cUHSw4KunKwxMtGYqFpMXI3ZbKuwCrbq+3sAlhDfqU8m+Wkywt+zDy7jg0Zt3Ln7iTDqY76s1iLZM8R9lButolpegJaSX0phwsw0/mqBYkErEJS4QZEEyMmArMhYXijueQLtRJV8QHo/NZhd2utAw49fOk4=" #DOCKER_URL
    - secure: "tgekSK1la9UNWxzV6dMAyhQhDyztqA7Cd6xzXKH5Kt4jMJ7KOF/+hDgF8KPi9ey7ZkiS0PRaUETgkFrUzZ+qpFKfBIgYEb3CvGVISauQlavocIqy2dcFrpHFCPXcIDYIoIEXrELBB5pluJSdYJVpb8IofAYvRnuNWaIZlgp0uvUEK2SYUq3+1LUjUsHZ+wuVhHzCqan3hL0uIs1MKtR3gjj0TC4O91twYFRMzxCvM4AOivRf8LoK5NqE6i6mdPTgfGao4YeUNeKU9Sx9bz2xVFE35431liYeE0EpFFXivojX+2FQoYNRZGvUuIblfXhkwloIRFQ1L2a+PvH7u+f4BRmRQg1bGTZTuqPGcx7QnKMt/4L3sjAPMjE/hU0d6uM7vn6nJfDdnsQGGDcYuCBG7cPcTPBT0SrU/x/Gz8zqfs8xx4Pu1wo0wEUh6M1eO9LhXa0zGc766//FX96kfkqRiSvnp/MAgkil6wk28Wia/EEfCQiTlnWXhN9EVqIkUHWiOTbXhycwFsSdVVDLyq0VwG0T+TU6x4GC24k+RPWjdrBDgdgwm3n2dkAaPZcA/zFQSCO7uQV7Km+fZp99HdG6yHAEq5lpUQ0aP/vVay4O7XCny9hakfUMsDnjCVlsPbk5f9jvtgsApZQWLQgJtffYl6EmRCQsZn7BexhO+ZAXSnA=" #STAGE_LOGIN
cache:
  directories:
  - $HOME/.gradle/
dist: trusty
sudo: required
addons:
  apt:
    packages:
    - mysql-server-5.6
    - mysql-client-core-5.6
    - mysql-client-5.6
    - unzip
services:
  - docker
  - mysql
before_install:
  - mysql -h 127.0.0.1 -u root -e "DROP DATABASE IF EXISTS test; CREATE DATABASE test;"
after_success:
  - bash deploy.sh